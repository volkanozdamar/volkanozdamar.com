<!DOCTYPE html>
<html lang="en">
    <!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
  <meta name="color-scheme" content="light dark">
  
  <title>Pull the wires of Chrome with Puppeteer - üåã</title>
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    <link rel='manifest' href='/manifest.json'>
  

  
<link rel="stylesheet" href="/css/var.css">

  
<link rel="stylesheet" href="/css/main.css">

  
<link rel="stylesheet" href="/css/typography.css">

  
<link rel="stylesheet" href="/css/code-highlighting.css">

  
<link rel="stylesheet" href="/css/components.css">

  
<link rel="stylesheet" href="/css/nav.css">

  
<link rel="stylesheet" href="/css/paginator.css">

  
<link rel="stylesheet" href="/css/footer.css">

  
<link rel="stylesheet" href="/css/post-list.css">

  
<link rel="stylesheet" href="/css/waline.css">

  
  
  
<link rel="stylesheet" href="/css/post.css">

  

  
    
<script src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
 
  

  
<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="üåã" type="application/atom+xml">
</head>
    <body data-color-scheme="auto">
        <nav id="theme-nav">
    <div class="inner">
        <a class="title" href="/">Blog</a>
        <div class="nav-arrow"></div>
        <div class="nav-items">
            <a class="nav-item nav-item-home" href="/">Home</a>
            
            
            <a class="nav-item" href="/archives">Archives</a>
            
            
            
            <a class="nav-item" href="/friends">Friends</a>
            
            
            
            <a class="nav-item" href="/projects">Projects</a>
            
            
            
            <a class="nav-item" href="/about">About</a>
            
            
            
            <a class="nav-item nav-item-github nav-item-icon" href="https://github.com/MrWillCom" target="_blank">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-codepen nav-item-icon" href="https://codepen.io/mrwillcom" target="_blank">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-patreon nav-item-icon" href="https://www.patreon.com/MrWillCom" target="_blank">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-mastodon nav-item-icon" href="https://noc.social/@MrWillCom" target="_blank">&nbsp;</a>
            
            
        </div>
    </div>
</nav>
        <article class="post">
    <div class="meta">
        
        <div class="date" id="date">
            
            
            
            
            
            
            
            
            <span>August</span>
            
            
            
            
            
            <span>18,</span>
            <span>2018</span>
        </div>
        

        <h2 class="title">Pull the wires of Chrome with Puppeteer</h2>
    </div>

    <div class="divider"></div>

    <div class="content">
        <p>Everybody knows that , Chrome is market leader and its developer tools are better than other browsers‚Äô.It is useful for software developers and software testers.Honestly ; I‚Äôm using Mozilla Firefox more than 10 years ,but Chrome is heading straight for the top every day.</p>
<p>Last year , Chrome Team announced headless mode. Headless mode allows to us , running Chrome without GUI.Before that , everybody was using PhantomJs for headless test automation.Now we have got the powerful alternative to test and create automations , Puppeteer is an official tool for Chrome Headless by Google Chrome team.With Puppeteer you can use many features of Chrome Dev Tools with Chrome Headless.If it is not tl;dr for you , you can learn more on puppeteer‚Äôs GitHub page. Now , let‚Äôs get install puppeteer on our machine.</p>
<a id="more"></a>

<h3 id="What-we-need"><a href="#What-we-need" class="headerlink" title="What we need :"></a>What we need :</h3><pre><code>Node 8+
Cup of Coffe√©</code></pre>
<p>Yes we just need node, cus puppeteer includes its own -latest- chromium.Create a directory where you want to work.All steps are working on Mac and Windows10(use powershell).(I didn‚Äôt try on Linux :) )</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir puppeteerworkspace</span><br><span class="line">$ cd puppeteerworkspace</span><br></pre></td></tr></table></figure>
<p>Then install Puppeteer with npm.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i --save puppeteer</span><br></pre></td></tr></table></figure>
<p>It‚Äôs time to roll up our sleeves.Let‚Äôs try to take screenshot of my page.As a default , puppeteer taking screenshot of the whole page.If we write ‚ÄúfullPage:false‚Äù in our script ,it will get just visible part of page.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const puppeteer &#x3D; require(&#39;puppeteer&#39;);</span><br><span class="line"></span><br><span class="line">(async () &#x3D;&gt; &#123;</span><br><span class="line">  const browser &#x3D; await puppeteer.launch();</span><br><span class="line">  const page &#x3D; await browser.newPage();</span><br><span class="line">  await page.goto(&#39;http:&#x2F;&#x2F;volkanozdamar.com&#39;);</span><br><span class="line">  await page.screenshot(&#123;path: &#39;mainpage.png&#39;,fullPage:false&#125;);</span><br><span class="line">  await browser.close();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>However, how we decide our screen size?Using setViewPort() function we can change our screen size.Additionally, we export the page as pdf.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const puppeteer &#x3D; require(&#39;puppeteer&#39;);</span><br><span class="line"></span><br><span class="line">(async () &#x3D;&gt; &#123;</span><br><span class="line">  const browser &#x3D; await puppeteer.launch();</span><br><span class="line">  const page &#x3D; await browser.newPage();</span><br><span class="line">  await page.setViewport(&#123;width:1920,height:1080&#125;);</span><br><span class="line">  await page.goto(&#39;http:&#x2F;&#x2F;volkanozdamar.com&#39;);</span><br><span class="line">  await page.pdf(&#123;path: &#39;homepage.pdf&#39;, format: &#39;A4&#39;&#125;);</span><br><span class="line">  await browser.close();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<h3 id="Mobile-Screen-Sizes"><a href="#Mobile-Screen-Sizes" class="headerlink" title="Mobile Screen Sizes"></a>Mobile Screen Sizes</h3><p>What if we want to emulate mobile page?How we will memorize all screen sizes for all devices?Don‚Äôt worry, puppeteer has predefined device sizes inside.You can find those devices in ‚ÄúDeviceDescriptors.js‚Äù.Also you can create your own devices.Below code ; sample for iphone6.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">const puppeteer &#x3D; require(&#39;puppeteer&#39;);</span><br><span class="line">const devices &#x3D; require(&#39;puppeteer&#x2F;DeviceDescriptors&#39;);</span><br><span class="line">const iPhone &#x3D; devices[&#39;iPhone 6&#39;];</span><br><span class="line"></span><br><span class="line">puppeteer.launch().then(async browser &#x3D;&gt; &#123;</span><br><span class="line">  const page &#x3D; await browser.newPage();</span><br><span class="line">  await page.emulate(iPhone);</span><br><span class="line">  await page.goto(&#39;https:&#x2F;&#x2F;www.google.com&#39;);</span><br><span class="line">  await page.screenshot(&#123;path: &#39;mainpage.png&#39;,fullPage:false&#125;);</span><br><span class="line">  await browser.close();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Beside all these, if you don‚Äôt want to as a headless , just write these lines,</p>
<p>const browser = await puppeteer.launch({headless: false}); // default is true</p>
<h3 id="Interacting-with-WebElements"><a href="#Interacting-with-WebElements" class="headerlink" title="Interacting with WebElements"></a>Interacting with WebElements</h3><p>To interact with a web element, Puppeteer using queryselector.I create a script making a Google Search.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const puppeteer &#x3D; require(&#39;puppeteer&#39;);</span><br><span class="line"></span><br><span class="line">(async () &#x3D;&gt; &#123;</span><br><span class="line">  const browser &#x3D; await puppeteer.launch();</span><br><span class="line">  const page &#x3D; await browser.newPage();</span><br><span class="line">  await page.goto(&#39;https:&#x2F;&#x2F;google.com&#39;);</span><br><span class="line">  await page.type(&#39;#lst-ib&#39;,&#39;Puppeteer&#39;);</span><br><span class="line">  await page.click(&#39;input[name&#x3D;&quot;btnK&quot;]&#39;);</span><br><span class="line">  await browser.close();</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<p>These are short notes and my first look for Puppeteer -also first English post on my blog üç∫‚Ää‚Äî‚Ää.I will write another post about puppeteer in the following times.Until that time EOF.(End of FUN!)</p>

    </div>

    <div class="about">
        <h1>About this Post</h1>
        <p>This post is written by Volkan √ñzdamar, licensed under <a
                target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a>.</p>
    </div>

    
        
    
</article>
        <footer>
    <div class="inner">
        <div class="links">
            
            <div class="group">
                <h4 class="title">Blog</h4>
                
                <a href="/" class="item">Blog</a>
                
                <a href="/archives" class="item">Archives</a>
                
                <a href="/friends" class="item">Friends</a>
                
                <a href="/projects" class="item">Projects</a>
                
                <a href="/resume" class="item">Resume</a>
                
                <a href="/about" class="item">About</a>
                
                <a href="/atom.xml" class="item">RSS</a>
                
            </div>
            
            <div class="group">
                <h4 class="title">Projects</h4>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom/rsa-cli" class="item">RSA CLI</a>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom/hexo-theme-cupertino" class="item">Hexo Theme Cupertino</a>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom/a-calendar" class="item">A Calendar</a>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom/auto-mirroring-bucket" class="item">Auto Mirroring Bucket</a>
                
            </div>
            
            <div class="group">
                <h4 class="title">Me</h4>
                
                <a target="_blank" rel="noopener" href="https://github.com/MrWillCom" class="item">GitHub</a>
                
                <a target="_blank" rel="noopener" href="https://codepen.io/mrwillcom" class="item">CodePen</a>
                
                <a target="_blank" rel="noopener" href="https://www.patreon.com/MrWillCom" class="item">Patreon</a>
                
                <a target="_blank" rel="noopener" href="https://noc.social/@MrWillCom" class="item">Mastodon</a>
                
                <a href="mailto:mr.will.com@outlook.com" class="item">Email</a>
                
            </div>
            
        </div>
        <span>&copy; 2021 Volkan √ñzdamar<br >Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></span>
        
            <br>
            <div class="color-scheme-toggle" role="radiogroup" id="theme-color-scheme-toggle">
                <label>
                    <input type="radio" value="light">
                    <span>Light</span>
                </label>
                <label>
                    <input type="radio" value="dark">
                    <span>Dark</span>
                </label>
                <label>
                    <input type="radio" value="auto">
                    <span>Auto</span>
                </label>
            </div>
        
    </div>
</footer>


        
<script src="/js/main.js"></script>

        
    </body>
</html>