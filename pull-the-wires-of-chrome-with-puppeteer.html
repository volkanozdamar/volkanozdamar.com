<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pull the wires of Chrome with Puppeteer</title>
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="Pull the wires of Chrome with Puppeteer">
    <meta property="og:description" content="A blog post by Volkan √ñzdamar">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://volkanozdamar.com/">
    <meta property="og:image" content="https://volkanozdamar.com/images/logo.png">
    <meta property="og:site_name" content="Volkan √ñzdamar's Blog">
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@volkanozdamar">
    <meta name="twitter:title" content="Pull the wires of Chrome with Puppeteer">
    <meta name="twitter:description" content="A blog post by Volkan √ñzdamar">
    <meta name="twitter:image" content="https://volkanozdamar.com/images/logo.png">
    <link rel="icon" type="image/png" href="images/logo.png">
    <link rel="apple-touch-icon" href="images/logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://unpkg.com/kotlin-playground@1" data-selector="code.language-kotlinplay"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6306708342544146"
     crossorigin="anonymous"></script>
    <script type="text/javascript">
        (function(c,l,a,r,i,t,y){
            c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
            t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
            y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
        })(window, document, "clarity", "script", "qicwcjewjc");
    </script>
</head>
<body>
    <a href="#main-content" class="skip-to-main">Skip to main content</a>
    <header role="banner" class="site-header">
        <div class="header-content">
            <h1>Volkan √ñzdamar</h1>
            <img src="images/logo.png" alt="Volkan √ñzdamar's Blog Logo" class="site-logo">
        </div>
            <nav class="main-navigation">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="archive.html"><i class="fas fa-archive"></i> Archive</a></li>
                    <li><a href="https://twitter.com/volkanozdamar" target="_blank"><i class="fab fa-twitter"></i> Twitter</a></li>
                    <li><a href="https://bsky.app/profile/volkanozdamar.com" target="_blank"><i class="fas fa-cloud"></i> Bluesky</a></li>
                    <li><a href="https://github.com/volkanozdamar" target="_blank"><i class="fab fa-github"></i> GitHub</a></li>
                </ul>
            </nav>
    </header>
    <main id="main-content" role="main">        <article>
            <div class="post-header">
                <h1>Pull the wires of Chrome with Puppeteer</h1>
                <div class="post-tags">
                        <span class="tag"><a href="tags/Chromedevtools.html">Chromedevtools</a></span>
                        <span class="tag"><a href="tags/Google.html">Google</a></span>
                        <span class="tag"><a href="tags/Chrome.html">Chrome</a></span>
                        <span class="tag"><a href="tags/Puppeteer.html">Puppeteer</a></span>
                </div>
                <div class="post-date" aria-label="Posted on 18-08-2018">18-08-2018</div>                 
            </div>
            <div id="l2it-audio-player">
                            <script>
                    function initListen2It() {
                        Listen2It.init({
                            url: window.location.href,
                            org_id: 'L0ZSy2WsVe',
                            integration_id: '0YLYzZF0Sz',
                            container: '#l2it-audio-player'
                        });
                    }
                    function initialize(i,t){var n;i.getElementById(t)?initListen2It():((n=i.createElement("script")).id=t,n.async=!0,n.src="https://widget.getlisten2it.com/widget.min.js",n.onload=initListen2It,i.head.appendChild(n))}function initiateCall(){initialize(document,"listen2it-widget")}window.addEventListener?window.addEventListener("load",initiateCall,!1):window.attachEvent("load",initiateCall,!1);
                </script>
            </div>
            <div class="post-content">
                <p>Everybody knows that , Chrome is market leader and its developer tools are better than other browsers‚Äô.It is useful for software developers and software testers.Honestly ; I‚Äôm using Mozilla Firefox more than 10 years ,but Chrome is heading straight for the top every day.</p>
<p>Last year , Chrome Team announced headless mode. Headless mode allows to us , running Chrome without GUI.Before that , everybody was using PhantomJs for headless test automation.Now we have got the powerful alternative to test and create automations , Puppeteer is an official tool for Chrome Headless by Google Chrome team.With Puppeteer you can use many features of Chrome Dev Tools with Chrome Headless.If it is not tl;dr for you , you can learn more on puppeteer‚Äôs GitHub page. Now , let‚Äôs get install puppeteer on our machine.</p>
<h3>What we need :</h3>
<pre><code>Node 8+
Cup of Coffe√©
</code></pre>
<p>Yes we just need node, cus puppeteer includes its own -latest- chromium.Create a directory where you want to work.All steps are working on Mac and Windows10(use powershell).(I didn‚Äôt try on Linux :) )</p>
<pre><code class="language-language-bash">$ mkdir puppeteerworkspace
$ cd puppeteerworkspace
</code></pre>
<p>Then install Puppeteer with npm.</p>
<pre><code class="language-language-bash">npm i --save puppeteer
</code></pre>
<p>It‚Äôs time to roll up our sleeves.Let‚Äôs try to take screenshot of my page.As a default , puppeteer taking screenshot of the whole page.If we write ‚ÄúfullPage:false‚Äù in our script ,it will get just visible part of page.</p>
<pre><code class="language-language-javascript">const puppeteer = require('puppeteer');

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto('http://volkanozdamar.com');
  await page.screenshot({path: 'mainpage.png',fullPage:false});
  await browser.close();
})();
</code></pre>
<p>However, how we decide our screen size?Using setViewPort() function we can change our screen size.Additionally, we export the page as pdf.</p>
<pre><code class="language-language-javascript">const puppeteer = require('puppeteer');

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.setViewport({width:1920,height:1080});
  await page.goto('http://volkanozdamar.com');
  await page.pdf({path: 'homepage.pdf', format: 'A4'});
  await browser.close();
})();
</code></pre>
<h3>Mobile Screen Sizes</h3>
<p>What if we want to emulate mobile page?How we will memorize all screen sizes for all devices?Don‚Äôt worry, puppeteer has predefined device sizes inside.You can find those devices in ‚ÄúDeviceDescriptors.js‚Äù.Also you can create your own devices.Below code ; sample for iphone6.</p>
<pre><code class="language-language-javascript">const puppeteer = require('puppeteer');
const devices = require('puppeteer/DeviceDescriptors');
const iPhone = devices['iPhone 6'];

puppeteer.launch().then(async browser =&gt; {
  const page = await browser.newPage();
  await page.emulate(iPhone);
  await page.goto('https://www.google.com');
  await page.screenshot({path: 'mainpage.png',fullPage:false});
  await browser.close();
});
</code></pre>
<p>Beside all these, if you don‚Äôt want to as a headless , just write these lines,</p>
<p>const browser = await puppeteer.launch({headless: false}); // default is true</p>
<h3>Interacting with WebElements</h3>
<p>To interact with a web element, Puppeteer using queryselector.I create a script making a Google Search.</p>
<pre><code class="language-language-javascript">const puppeteer = require('puppeteer');

(async () =&gt; {
  const browser = await puppeteer.launch();
  const page = await browser.newPage();
  await page.goto('https://google.com');
  await page.type('#lst-ib','Puppeteer');
  await page.click('input[name=&quot;btnK&quot;]');
  await browser.close();
})();
</code></pre>
<p>These are short notes and my first look for Puppeteer -also first English post on my blog üç∫‚Ää‚Äî‚Ää.I will write another post about puppeteer in the following times.Until that time EOF.(End of FUN!)</p>

            </div>
        </article>
        <nav role="navigation" aria-label="Post navigation">
            <p><a href="index.html" aria-label="Back to home page">‚Üê Back to Home</a></p>
        </nav>
        <div class="comments-section">
            <script src="https://utteranc.es/client.js"
                    repo="volkanozdamar/volkanozdamar.com"
                    issue-term="title"
                    theme="github-dark"
                    crossorigin="anonymous"
                    async>
            </script>
        </div>
</main>
    <footer class="site-footer">
        <div class="license-notice">
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
                <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" />
            </a>
            <p>Unless otherwise stated, all blog content is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
        </div>
    </footer>
    <script src="js/main.js"></script>
</body>
</html>